---
title: "Bellabeat Case Study"
author: "Ilma Umair"
date: "2023-08-06"
output: html_document
---

# Objective

Analyze smart device usage data in order to gain insight into how consumers use non-Bellabeat smart devices. Help the stakeholders of this project, Urška Sršen, Sando Mur and the Bellabeat marketing analytics team, to select one Bellabeat product to apply these insights to.

# Dataset 

The data for this project is an original dataset generated by respondents to a distributed survey via Amazon Mechanical Turk between 03.12.2016-05.12.2016. I obtained it from Kaggle where it's made available through the user Mobius. This dataset contains information from thirty Fitbit users who consented to the submission of their personal tracker data, including minute-level output for physical activity, heart rate, sleep monitoring, etc. This dataset is under the Public Domain license which entails that the person who associated a work with this deed has dedicated the work to the public domain by waiving all of his or her rights to the work worldwide under copyright law, including all related and neighboring rights, to the extent allowed by law.

The link to this dataset is https://www.kaggle.com/datasets/arashnic/fitbit?resource=download&select=Fitabase+Data+4.12.16-5.12.16

There are, however, some limitations to this datset. It has a small sample size of only 30 users and does not have all the parameters from each user like gender, occupation, etc.

By analyzing the data of a similar product, we can gain useful insights into user habits and come up with actionable suggestions that our stakeholders can use on their own products, giving them an edge in their particular niche of the market.




# Tools used for data analysis

First, an Excel worksheet was created showcasing all the columns from each table. This gives a quick overview of all the parameters that the data was collected for and help decide which ones to choose for the analysis.

Next, RCloud was employed to analyze data and create visualizations. Finally, using it's Knit function the report was put together in a PDF document. 

```{r}
# Install and load all the required packages

install.packages("tidyverse")
library(tidyverse)
library(readxl)
library(readr)
install.packages("here")
library("here")
install.packages("skimr")
library("skimr")
install.packages("janitor")
library("janitor")
install.packages("dplyr")
library("dplyr")

```
Reading files using the readr package and saving them in a shorter, easy to reference variables.
```{r}
# Reading our files and saving them in a shorter variable 

library(readr)
dailyActivity <- read_csv("dailyActivity_merged.csv") 
dailyIntensities<- read_csv("dailyIntensities_merged.csv")
```
The skim_without-charts() function was used to get a high level view of the dataset and quickly see if there are any missing characters in it. 

```{r}
# Get a summary of dailyActivity dataset. Shows if there are any missing characters too.  
skim_without_charts(dailyActivity)
```
The n_missing() function from the skimr package was used to show columns with missing values. 

```{r}
# Which of the columns have missing values?
dailyActivity %>% 
  skim() %>% 
  dplyr::filter(n_missing > 0)
```
The sum(duplicated()) function was used to check for duplicates. 

```{r}
# Check if there are duplicate values in dailyAcitivity
sum(duplicated(dailyActivity))
head(dailyActivity)
```

Scatter plots to compare the calories burnt based on how much time they spent being very active and sedentary. These graphs confirm the theory that more calories are burnt being very active compared to being sedentary. 
```{r}
# Plotting calories with different categories of active minutes

ggplot(data = dailyActivity, aes(x=VeryActiveMinutes, y=Calories)) + geom_point() + geom_smooth()

ggplot(data = dailyActivity, aes(x=SedentaryMinutes, y=Calories)) + geom_point() + geom_smooth()

```
A new column was created in 'dailyIntensities' dataframe to calculate the weekday based on the date in the column ActivityDay and saving the mutated table in the variant 'weekday_steps'.Then, 'weekday_steps' was grouped according to the days of the week and a table was plotted with the mean amount of time doing each of the different intensity of physical activity.

```{r}
#Make a new column in dailyIntensities for weekday and save the output in a new dataframe 

weekday_steps <- dailyIntensities %>% 
  mutate(dailyIntensities, weekday = weekdays(as.Date(ActivityDay))) %>% 
  group_by(weekday)
head(weekday_steps)

weekday_steps$weekday <-ordered(weekday_steps$weekday, levels=c("Monday", "Tuesday", "Wednesday", "Thursday",
                                                                            "Friday", "Saturday", "Sunday"))

weekday_steps <-weekday_steps%>%
  group_by(weekday) %>%
  summarize (AverageSedentaryMinutes = mean(SedentaryMinutes), AverageLightlyActiveMinutes = mean(LightlyActiveMinutes), AverageFairlyActiveMinutes = mean(FairlyActiveMinutes), AverageVeryActiveMinutes = mean(VeryActiveMinutes)) %>% 
  drop_na()
head(weekday_steps)

```
Next a bar chart was created to see the amount of time spent each day of the week doing the most amount of activity. The scale of the Y axis was adjusted to better see the differences between the days. The resulting bar chart shows a marked decrease in physical activity on Tuesdays, a key insight that Bellabeat users can tap into. 
```{r}
#Plot a bar chart for AverageSedentaryMinutes on each weekday

ggplot(data = weekday_steps) + geom_col(mapping = aes(x = weekday, y = AverageVeryActiveMinutes)) 

```
# Conclusion

Bellabeat can use this data to market its fitness trackers like the Ivy or the Leaf. Surprising insights, like the Tuesday slump of very active minutes, into a user's daily or weekly activities can urge them to be more conscious of their wellness habits and take actions like buy a fitness tracker to track their daily activities. The marketing team can also showcase the calories burnt with increasing number of minutes spent being very active and suggest to the users to ascertain their sweet spot where the calories burnt are highest, so they can better plan their exercise routines. In conclusion, data analysis of a similar product can help Bellabeat market its fitness tracker better and show potential customers the benefits of having it. 
